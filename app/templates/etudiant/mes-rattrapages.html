{% extends "base.html" %} {% block title %}Mes Rattrapages | DEFITECH{% endblock
%} {% block content %}
<style>
  .glass-container {
    background: rgba(255, 255, 255, 0.25);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.18);
  }
  .glass-card {
    background: rgba(255, 255, 255, 0.7);
    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.5);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .glass-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 24px 0 rgba(0, 0, 0, 0.15);
  }
</style>

<div
  class="min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 py-10 px-4 sm:px-6"
>
  <div class="max-w-7xl mx-auto">
    <div class="mb-10 text-center">
      <h1
        class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 mb-2"
      >
        Mes Rattrapages
      </h1>
      <p class="text-gray-600 text-lg">
        Suivi de vos sessions de rattrapage et résultats
      </p>
    </div>

    {% if rattrapages %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for item in rattrapages %}
      <div class="glass-card p-6 relative overflow-hidden">
        <!-- Decorative Circle -->
        <div
          class="absolute -top-10 -right-10 w-24 h-24 bg-gradient-to-br from-purple-400 to-indigo-400 rounded-full opacity-20 blur-xl"
        ></div>

        <div class="flex justify-between items-start mb-4">
          <div>
            <h3 class="text-xl font-bold text-gray-800">
              {{ item.matiere.nom }}
            </h3>
            <span class="text-sm text-gray-500"
              >{{ item.matiere.credit }} Crédits</span
            >
          </div>
          <div class="p-2 bg-red-100 rounded-lg text-red-600 font-bold">
            {{ "%.2f"|format(item.moyenne_initiale) }}/20
          </div>
        </div>

        <div class="space-y-3 mb-6">
          <div class="flex items-center text-gray-600 text-sm">
            <i class="fas fa-calendar-alt w-6 text-indigo-500"></i>
            <span>Date: {{ item.date_rattrapage or "Non planifiée" }}</span>
          </div>
          <div class="flex items-center text-gray-600 text-sm">
            <i class="fas fa-map-marker-alt w-6 text-indigo-500"></i>
            <span>Salle: {{ item.salle or "GL-002" }}</span>
          </div>
        </div>

        <div class="pt-4 border-t border-gray-200">
          {% if item.note_rattrapage %}
          <div class="flex justify-between items-center">
            <span class="text-sm font-medium text-gray-600">Note obtenue</span>
            <span class="text-lg font-bold text-indigo-700"
              >{{ item.note_rattrapage }}/20</span
            >
          </div>
          <div class="mt-2 text-center">
            {% if item.note_rattrapage >= 10 %}
            <span
              class="inline-block px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold uppercase tracking-wide"
            >
              Validé
            </span>
            {% else %}
            <span
              class="inline-block px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold uppercase tracking-wide"
            >
              Non Validé
            </span>
            {% endif %}
          </div>
          {% else %}
          <div class="text-center">
            <span
              class="inline-block px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold uppercase tracking-wide"
            >
              En attente
            </span>
          </div>
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="glass-container p-12 text-center max-w-2xl mx-auto">
      <div class="mb-6">
        <i class="fas fa-medal text-6xl text-yellow-400 drop-shadow-lg"></i>
      </div>
      <h2 class="text-2xl font-bold text-gray-800 mb-2">Félicitations !</h2>
      <p class="text-gray-600">
        Aucune matière à rattraper pour le moment. Continuez comme ça !
      </p>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
